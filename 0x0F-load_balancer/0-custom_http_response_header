#!/usr/bin/env bash
# This script configures Nginx to include a custom HTTP header in its response.
# The custom header is named X-Served-By and contains the hostname of the server.

# Update the package repository and install Nginx
sudo apt-get update
sudo apt-get install -y nginx

# Define the custom header configuration
custom_header_config="add_header X-Served-By \$hostname;"

# Add the custom header configuration to Nginx default site configuration
sudo sed -i "s|server_name _;|server_name _;\n\t$custom_header_config|g" /etc/nginx/sites-available/default

# Restart Nginx to apply the changes
sudo service nginx restart

# End of script
